# korean_normalizer

## 1. 슬래쉬 처리

- 숫자/숫자는 분수로 처리

1/5 → 오 분의 일

- 슬래쉬 2개는 슬래쉬 1개로 변환

예전 끊어읽기 때 처리를 위해 넣은 로직

## 2. Dictionary에 있는 단어들 변환

- etc_dictionary

20~30대 → 이삼십대 등 특별한 변환이 필요한 경우 

- english_dictionary

F1 → 에프원 과 같이 영어 단어들 변환

## 3. 단일 대문자 알파벳 처리

AS → 에이에스

## 4. 따옴표 처리

`"'＂“‘ `"'＂”’ 삭제

## 5. 기타 변환

### 5-1. 단위 변환

- %, cm, mm, km, kg, mg, m, g 변환

### 5-2. 전화번호 변환

- "\d{2,3}-\d{3,4}-\d{4}” 변환

010-1234-5678 → 영일영 일이삼사 오육칠팔

### 5-3. 다시 변환

- 숫자-숫자 변환

123-456 → 백이십삼 다시 사백오십육

## 6. [분기 1] 기수(cardinal) 변환

### 6-1. 숫자와 단위 분리

3개 → 3, 개

### 6-2. 쉼표 제거

10,000 → 10000

### 6-3. 숫자에서 소수점 아래 숫자 분리

3.14 → 3, 14

### 6-4. 맨 왼쪽 자리수부터 오른쪽으로 진행하며 한 글자씩 한글로 변환

- 한글 숫자 읽기는 4자리수 단위로 끊어진다(만, 억, 조, 경, 해). 그 사이에 십, 백, 천 단위가 반복된다.
- 또한 기수의 경우 100의자리까지는 서수와 동일하게 읽고, 십의자리에서 기수읽기로 변경된다(3333개 → 삼천삼백서른세개)
- 왼쪽 자리수부터 반복문 진행, i=1부터 시작하고 각 자리 숫자는 v로 표기, size는 전체 숫자의 총 자리수, (size - i)는 v의 자리수

v가 0이 아닌 경우

v가 1이 아닌 경우 OR 만, 억, 조, 경, 해 자리인 경우

(v가 1일때는 빼는 이유가 일천일백일십일과 같은 경우 때문임)

100의 자리 미만인 경우

기수 숫자로 변경 (3 → 세)

100의 자리 이상인 경우

서수 숫자로 변경 (3 → 삼)

자리수를 4로나눈 나머지에 해당하는 단위를 붙임(십, 백, 천)

v가 0인 경우

0 → 영, 00 → 영영 변환 (개선 필요)

### 6-5. 십의자리 dictionary 변환

- 위 로직에서 100의자리 미만은 기수 한글로 변환하였으므로 33은 ‘세십세’로 변경되었을 것이다. 십의자리 숫자와 단위는 변환이 필요하기 때문에 세십 → 서른으로 변경해준다.
- 만의자리 이상에서는 십 → 열 변환이 되면 안되므로, 만의자리 이하 글자만 분리해서 변경해준다.

## 7. [분기2] 서수(ordinal) 변환

### 7-1. 쉼표 제거

### 7-2. 숫자에서 소수점 아래 숫자 분리

### 7-3. 맨 왼쪽 자리수부터 오른쪽으로 진행하며 한 글자씩 한글로 변환

v가 0이 아닌 경우

v가 1이 아닌 경우 OR 만, 억, 조, 경, 해 자리인 경우

서수 숫자로 변경

자리수를 4로 나눈 나머지에 해당하는 단위를 붙임(십, 백, 천)

v가 0인 경우

0 → 영, 00 → 영영 변환 (개선 필요)

## 8. 마무리

- 소수점 이하 숫자를 자리수마다 각각 일의자리처럼 변환한 후 붙인다
- +또는 -로 시작하는 경우 ‘플러스' 또는 ‘마이너스'를 맨 앞에 붙인다